/**      
 * Adds the toggle switch to the everythin
 */      
function addToggle( v ) {   

alert( 'v: '+v );
    if(!document.getElementById) return;
    var tid = '#'+v+'__header';
    var header = jQuery( tid );
    if(!header.length) return; 
    var obj          = document.createElement('span');
    obj.id           = v+'__toggle';
    obj.innerHTML    = '<span>&minus;</span>';
    obj.className    = 'toc_close';
    obj.style.cursor = 'pointer';  
         
    //prependChild(header,obj);
    jQuery( header ).prepend( obj );
         
    //obj.parentNode.onclick = toggleSbRightToc;
    jQuery( obj.parentNode ).bind( 'click', toggleSb );
    try {
       obj.parentNode.style.cursor = 'pointer';
       obj.parentNode.style.cursor = 'hand';
    }catch(e){}                
}        
function toggleSb() {  

  var id = this.attr.id;
  //alert( 'id '+id );

  var toc = jQuery('#'+v+'__inside');
  var obj = jQuery('#'+v+'__toggle');
         
  if( toc.css( 'display' ) == 'none' ) {
    toc.css( 'display', 'block' ); 
    obj.innerHTML       = '<span>&minus;</span>';
    obj.className       = 'toc_close';
  } else {                     
    toc.css( 'display', 'none' );  
    obj.innerHTML       = '<span>+</span>';
    obj.className       = 'toc_open';
  }      
}        


var right_dw_index = jQuery('#sb__index__tree').dw_tree({deferInit: true,                                                                     
    load_data: function  (show_sublist, $clicky) {
        jQuery.post(          
            DOKU_BASE + 'lib/exe/ajax.php',
            $clicky[0].search.substr(1) + '&call=index',
            show_sublist, 'html'
        );
    }
});  

jQuery(function(){
  // from lib/scripts/index.js 
//    var $tree = jQuery('#right__index__tree');
//    right_dw_index.$obj = $tree;
//    right_dw_index.init();

    //jQuery( addToggle( 'sb__right__toc' ));

    jQuery( '.sidebarng div' ).each( function( ) {



    });
 
});

